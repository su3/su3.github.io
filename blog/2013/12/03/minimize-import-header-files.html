<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, maxmum-scale=1.0, minmum=-scale=1.0, initial-scale=1.0" />
    <title>最小化导入 Header 中的 header - Code Cola</title>
    <link href="/assets/style.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" media="only screen and (min-width:50px) and (max-width:500px)" href="/assets/screen_layout_small.css" />
    <link rel="stylesheet" href="/assets/highlighter/prettify.css" />
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="http://libs.useso.com/js/html5shiv/3.7/html5shiv.min.js"></script>
    <script src="http://libs.useso.com/js/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<header>
    <strong class="site_name"><a href="/">Code Cola</a></strong>
</header>
<div class="wrap">
    <div class="container post">

        <h1>最小化导入 Header 中的 header</h1>
        <time>2013-12-03 20:47</time>
        <article>
            <h2>最小化导入 Header 中的 header</h2>
<ul>
<li><p>关于 #import 的最佳实践是在 .h 中 @class EOCEmployer；
前置声明（forward declare），然后在.m 中 #import。</p>
</li>
<li><p>如果在 Person.h 中 #import 了 Employer.h，那么所有 #import 了 Person.h 的类也都导入了 Employer.h，这种链式导入继续下去，你很可能导入了过多不必要的头部文件，增加了编译时间。</p>
</li>
<li><p>使用前置声明还避免了互相引用的问题。在编译器中，如果 Person 类先编译，编译器发现它引用了 Employer，那么需要先编译 Employer，当 编译 Employer 时发现它又引用了 Person……#import 相对于 #include 可以避免这个无限循环，不过仍然有一个文件的编译会有问题。</p>
</li>
<li><p>有时候你必须在header中引入header，比如声明实现它的协议（protocol）时。如果协议只是一个大header中的一部分，可以在附加类（item 27）中声明它，而不是在一个公共的header中。</p>
</li>
</ul>
<h3>记住：</h3>
<ul>
<li>在尽量深的层级里引入header。意思是在 header 中前置声明，相应的 header 在.m中引入。尽可能地避免类之间的关联。</li>
<li>有时不能前置声明，比如遵循委托时。在这种情况下，考虑把委托协议转移到一个附加类中，或者导入一个只有 protocol 定义的头文件。</li>
</ul>

        </article>
        <br class="clearfloat">
    </div>
</div>

<!-- comments begin-->
<section class="wrap">
    <div class="container comments">
        <h3>评论</h3>
        <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'codecola'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    

    </div>

</section>
<!-- comments end -->

<footer>
    <div class="container copyright">
            copyright &copy 2015 su3.github.io
    </div>
</footer>
<div id="analytics"><script src="/assets/analytics.js"></script></div>
<script src="/assets/highlighter/prettify.js"></script>
<script>prettyPrint();</script>
</body>
</html>